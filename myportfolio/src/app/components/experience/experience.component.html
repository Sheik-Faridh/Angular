<section id="experience" class="experience-section">
  <main>
    <h2><i class="bi bi-briefcase"></i>Experience</h2>
    <div class="experience-wrapper">
      <div class="experience-list">
        <button
          *ngFor="let experience of workExperiences; index as i"
          [attr.aria-selected]="activeExperience === experience.company"
          (click)="setSelected(experience.company, i)"
        >
          {{ experience.company }}
        </button>
        <div
          class="active-line"
          [style]="'transform: translateY(calc(' + activeIndex + '* 42px));'"
        ></div>
      </div>
      <div class="border-marker">
        <div class="work-details" [ngSwitch]="activeExperience">
          <ng-template
            *ngFor="let experience of workExperiences"
            [ngSwitchCase]="experience.company"
          >
            <div class="company-details">
              <h3>
                {{ experience.designation }}
                <span
                  >@
                  <a
                    [href]="experience.link"
                    target="_blank"
                    rel="noreferrer"
                    >{{ experience.company }}</a
                  ></span
                >
              </h3>
              <div class="duration">
                {{ experience.joinedAt }} -
                {{ experience.endedAt || "Present" }}
              </div>
            </div>
            <ul>
              <li *ngFor="let role of experience.roles">
                {{ role }}
              </li>
            </ul>
          </ng-template>
        </div>
      </div>
    </div>
  </main>
</section>
